{% extends 'layout.html' %}

{% block content %}

<h1 class="d-inline">Current Car Stock</h1>
<div class="d-inline float-right">
    <a class="text-primary" data-toggle="collapse" data-target="#filters">[Filters]</a>
</div>

{% if session.level == 0 %}
    {% include 'add_car.html' %}
{% endif %}

<div class="card collapse" id="filters">
    <div class="card-body">
        <form method="GET" action="{{ url_for('car_filter') }}">
            <div class="form-group row">
                <div class="col-sm-3">
                    <label class="form-control-label">VIN</label>
                    <input class="form-control form-control-sm" type="text" name="vin">
                </div>
                <div class="col-sm-3">
                    <label class="form-control-label">Make</label>
                    <input class="form-control form-control-sm" type="text" name="make">
                </div>
                <div class="col-sm-3">
                    <label class="form-control-label">Color</label>
                    <input class="form-control form-control-sm" type="text" name="color">
                </div>
                <div class="col-sm-3">
                    <label class="form-control-label">Year</label>
                    <input class="form-control form-control-sm" type="text" name="year">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-sm-3">
                    <label class="form-control-label">Model</label>
                    <input class="form-control form-control-sm" type="text" name="model">
                </div>
                <div class="col-sm-6">
                    <label class="form-control-label">Price Range</label>
                    <div class="input-group input-group-sm">
                        <input class="form-control" type="text" name="price_low">
                        <span class="ml-2 mr-2">to</span>
                        <input class="form-control" type="text" name="price_high">
                    </div>
                </div>
            </div>
            <div class="form-group-row">
                <button type="submit" class="btn btn-light">Filter</button>
                <div class="form-check ml-1" style="display:inline-block">
                    <input class="form-check-input" type="checkbox" name="sold" id="soldCheck">
                    <label class="form-check-label" for="soldCheck">Include sold cars</label>
                </div>
            </div>
        </form>
    </div>
</div>

<div class="err-msg">{{ message }}</div>

<table class="table mt-3">
    <thead class="thead-light">
        <tr>
            <th scope="col">VIN</th>
            <th scope="col">Make</th>
            <th scope="col">Color</th>
            <th scope="col">Model</th>
            <th scope="col">Year</th>
            <th scope="col">Price</th>
        </tr>
    </thead>
    <tbody>
        {% for item in data %}
        <tr>
            <td width="300">{{item[0]}}</td>
            <td width="200">{{item[1]}}</td>
            <td width="200">{{item[2]}}</td>
            <td width="150">{{item[3]}}</td>
            <td width="150">{{item[4]}}</td>
            <td>{{item[5]}}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}